<!DOCTYPE html>
<html>

<head>

    <title>Co2 aftryk gennem maden</title>
    <script type="text/javascript" src="d3.js"></script>
    <style>
        select {
            font-size: 20px;
        }
    </style>
</head>
<h1>Co2 aftryk gennem maden</h1>

<body>

<select name="brød">brød
    <option value="10"></option>
</select>

    <script type="text/javascript">
        d3.json("http://localhost:3000/final").then(function (data) {
            console.log("alt data:", data);
            let final = data.final;
            console.log("første række:", final[0])
            console.log("første række:", (final[0].navn), (final[0].co2_kg), (final[0].kategori_id));


            var dataset = [{
                "NAME": final[0].kategori
            }, {
                "NAME": final[7].kategori
            }, {
                "NAME": final[13].kategori
            }, {
                "NAME": final[19].kategori
            }, {
                "NAME": final[26].kategori
            }, {
                "NAME": final[36].kategori
            }, {
                "NAME": final[46].kategori
            }
            ];

            var dropDown = d3.select("body").append("select")
                .attr("name", "name-list");


            var options = dropDown.selectAll("option")
                .data(dataset)
                .enter()
                .append("option");

            options.text(function (d) {
                return d.NAME;
            })
                .attr("value", function (d) {
                    return d.NAME;
                });


            var dataset1 = [{
                "NAME": final[0 || 6].navn
            }, {
                "NAME": final[7].kategori
            }, {
                "NAME": final[13].kategori
            }, {
                "NAME": final[19].kategori
            }, {
                "NAME": final[26].kategori
            }, {
                "NAME": final[36].kategori
            }, {
                "NAME": final[46].kategori
            }
            ];


            var dropDown = d3.select("body").append("select")
                .attr("name", "name-list");


            var options = dropDown.selectAll("option")
                .data(dataset1)
                .enter()
                .append("option");

            options.text(function (d) {
                return d.NAME;
            })
                .attr("value", function (d) {
                    return d.NAME;
                });




        })
    </script>
</body>



</html>