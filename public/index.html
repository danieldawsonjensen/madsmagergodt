<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./../ahmadstyles.css">
    <title>CO2-udledning som effekt af spisevaner</title>
    <link rel="icon" type="image/png" href="./../../billeder/icon.png">
    <script type="text/javascript" src="d3.js"></script>
   
</head>

<body cz-shortcut-listen="true">


    <section class="p-menu1">
        <nav id="navbar" class="navigation" role="navigation">
            <input id="toggle1" type="checkbox">
            <label class="hamburger1" for="toggle1">
                <div class="top"></div>
                <div class="meat"></div>
                <div class="bottom"></div>
            </label>

            <nav class="menu1">
                <a class="link1" href="./../../../../index.html">Forside</a>
                <a class="link1" href="./../dataforståelse.html">Dataforståelse</a>
                <a class="link1" href="./../visualisering.html">Visualisering</a>
            </nav>
        </nav>
    </section>



    <h1>Hvordan påvirker dine spisevaner miljøet?</h1>

    <div class="p1">
        <g>
            <p> Er du miljøbevidst omkring din mad?</p>
            <p> <a href="https://myemissions.green/understanding-the-fair-daily-food-emissions-value/" target="_blank"> My Emissions</a> anbefaler at man per person maks udleder 3.05 kgCO2e/dag. Dette har de udregnet baseret på en <a href="https://www.unep.org/news-and-stories/press-release/cut-global-emissions-76-percent-every-year-next-decade-meet-15degc" target="blank">UN-forudsigelse</a> der mener, at vi skal reducere vores årlige CO2-udledning med 7.6% hvert år, for at begrænse global opvarmning til 1.5°C til 2030.</p>
        </g>
    </div>
    <p></p>
    <div>
        <g>
            
    <script>
        d3.json("http://localhost:3000/final").then(function (data) {
            console.log("alt data:", data);
            let final = data.final;
            console.log("første række:", final[0])
            console.log("første række:", (final[0].navn), (final[0].co2_kg), (final[0].kategori_id));



            //Width and height
            var w = 900;
            var h = 500;
            var padding = 20;
            var offset = 19;

            var dataset = [];

            for (i = 0; i <= 10; i++) {
                dataset.push([final[i].co2_kg]);
            }

            console.log(dataset);

            var xScale = d3.scaleBand()
                .domain(d3.range(dataset.length))
                .rangeRound([0, w])
                .paddingInner(0.05);

            var yScale = d3.scaleLinear()
                .domain([0, d3.max(dataset)])
                .range([0, h]);

            var axScale = d3.scaleLinear()
                .domain([0, d3.max(dataset)])
                .range([h, 0]);

            //Create SVG element
            var svg = d3.select("body")
                .append("svg")
                .attr("width", w + 20)
                .attr("height", h + 20);

            var yAxis = d3.axisLeft()
                .scale(axScale)
                .ticks(10);

            //Create bars
            svg.selectAll("rect")
                .data(dataset)
                .enter()
                .append("rect")
                .attr("x", function (d, i) {
                    return (xScale(i) + offset);
                })
                .attr("y", function (d) {
                    return h - yScale(d);
                })
                .attr("width", xScale.bandwidth())
                .attr("height", function (d) {
                    return yScale(d);
                })
                .attr("fill", function (d) {
                    if (d > 5)
                        return ("fill", "darkred")
                    else return ("fill", "darkgreen")
                })

            svg.selectAll("text")
                .data(dataset)
                .enter()
                .append("text")
                .text(function (d) {
                    return d;
                })
                .attr("x", function (d, i) {
                    return i * (w / dataset.length) + 45; // +5
                })
                .attr("y", function (d) {
                    return h - (d * 25) + 12;
                })
                .attr("fill", "white");



            svg.append("g")
                .attr("class", "axis")
                .attr("transform", "translate(" + padding + ",0)")
                .call(yAxis)
                .attr("stroke", "white")
        })

    </script>

    </body>
</html>