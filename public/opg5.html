<!DOCTYPE html>
<html>

<head>
  <title>Gennemsnitstemperaturen på vaccinationsdagene</title>
  <script type="text/javascript" src="d3.js"></script>
  <style>
    svg {
      border: 2px solid black;
      background-color: aliceblue;
      padding: 1em;
    }
  </style>
</head>

<body>
  <p>Kig i browser-konsollen :)</p>

  <script type="text/javascript">
    const w = 800;
    const h = 800;
    const padding = 200;
  d3.csv("covid-danmark-temperature-aalborg.csv").then(function (data) {
    console.log("alt data:", data);
    console.log("første række:", data[0]);
    console.log("antal daglige vaccinationer i første række:", data[0].daily_vaccinations);
    console.log("gennemsnitstemperaturen i første række:", data[0].tavg);
var xScale = d3.scaleLinear()
.domain([0, d3.max(data, function(d) { return d.daily_vaccinations; })])
.range([0, w - padding]);
var yScale = d3.scaleLinear()
.domain([0, d3.max(data, function(d) { return d.tavg; })])
.range([0, h - padding]);

    const svg = d3.select("body")
      .append("svg")
      .attr("width", w)
      .attr("height", h)

    // Lave scatter plot (punktdiagram)
    svg.selectAll("circle") // <-- Før var det 'rect'
      .data(data)
      .enter()
      .append("circle") // <-- Før var det 'rect'
      .attr("cx", function(d) {
        return xScale(d.daily_vaccinations); //Returns scaled value
})

      .attr("cy", function(d) {
        return yScale(d.tavg); // Anden værdi i indre array (y)
      })
      
      .attr("r", 10) // Radius er en konstant på '5'  
});
  
  </script>
</body>

</html>